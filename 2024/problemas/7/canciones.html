<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>CS50x en Espa√±ol</title>

    <!-- http://getbootstrap.com/docs/4.5/getting-started/introduction/ -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/popper.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- https://momentjs.com/, https://momentjs.com/timezone/ -->
    <script src="/static/js/moment.min.js"></script>
    <script src="/static/js/moment-timezone-with-data.min.js"></script>
    <script src="/static/js/luxon.min.js"></script>

    <!-- https://www.algolia.com/doc/guides/building-search-ui/installation/js/ -->
    <script src="/static/js/algoliasearchLite.min.js"></script>
    <script src="/static/js/instantsearch.production.min.js"></script>
    <script src="/static/js/jekyll-theme-cs50.js"></script>

    <script id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/static/highlight/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/highlight/styles/vs.min.css"/>
    <link rel="stylesheet" href="/static/css/page.css">

    <style>
      code {
        color: black;
        border: 1px solid #dee2e6;
      }

      pre > code {
        padding: 0 !important;
      }

      pre {
        border: 1px solid #dee2e6;
      }

      .mermaid {
        background-color: white !important;
        border: none !important;
      }
    </style>
  </head>

  <body>
    <!-- Markdown Flux Diagrams -->
    <script type="module">
      mermaid.initialize({startOnLoad: true});
    </script>
    <div class="container-fluid">
      <div class="row">
        <aside class="col-md" style="background-color: orangered">
  <header>
    <h1>
      <a href="">CS50x en Espa√±ol</a>
    </h1>

    <p>
      <a target="_blank" href="">Curso de Introducci√≥n a la Ciencia de la Computaci√≥n de la Universidad de Harvard</a>
      <br/>
      2024
    </p>
  </header>

  <button class="btn btn-sm collapsed d-md-none" aria-controls="nav" aria-expanded="false" data-target="aside &gt; nav" data-toggle="collapse">
    Menu
  </button>

  <nav class="collapse d-md-block" id="nav">
    <hr/>

    <ul>
      <li>
        <a href="/2024/semanas/0.html">Semana
          0</a>
        Scratch üò∫
      </li>
      <li>
        <a href="/2024/semanas/1.html">Semana
          1</a>
        C
      </li>
      <li>
        <a href="/2024/semanas/2.html">Semana
          2</a>
        Arreglos
      </li>
      <li>
        <a href="/2024/semanas/3.html">Semana
          3</a>
        Algoritmos
      </li>
      <li>
        <a href="/2024/semanas/4.html">Semana
          4</a>
        Memoria
      </li>
      <li>
        <a href="/2024/semanas/5.html">Semana
          5</a>
        Estructuras de Datos
      </li>
      <li>
        <a href="/2024/semanas/6.html">Semana
          6</a>
        Python
      </li>
      <li>
        <a href="/2024/semanas/7.html">Semana
          7</a>
        SQL
      </li>
      <li>
        <a href="/2024/semanas/8.html">Semana
          8</a>
        HTML, CSS, JavaScript
      </li>
      <li>
        <a href="/2024/semanas/9.html">Semana
          9</a>
        Flask
      </li>
      <li>
        <a href="/2024/semanas/10.html">Semana
          10</a>
        Ciberseguridad
      </li>
    </ul>

    <hr/>

    <ul>
      <li>
        <a href="/2024/proyecto.html">Proyecto Final</a>
      </li>
    </ul>

    <hr/>

    <ul>
      <li>
        <a href="/2024/honestidad.html">Honestidad Acad√©mica</a>
      </li>
      <li>
        <a href="/2024/certificado.html">Certificado CS50</a>
      </li>
      <li>
        <a href="/2024/preguntas_frecuentes.html">Preguntas Frecuentes</a>
      </li>
      <li>
        <a href="https://cs50.me/cs50x">Libro de Calificaciones</a>
      </li>
      <li>
        <a href="/2024/personal.html">Equipo</a>
      </li>
      <li>
        <a href="/2024/plan_de_estudios.html">Programa del Curso</a>
      </li>
    </ul>
    <hr/>

    <ul>
      <li>
        <a href="/manual/index.html">Manual del Programador</a>
      </li>
      <li>
        <a href="/2024/estilo.html">Gu√≠a de Estilo</a>
      </li>
    </ul>
  </nav>
</aside>
        <main class="col-md markdown-body">
          

  <h1>Canciones</h1>
<p><img alt="Logotipo de Spotify Wrapped '22" src="https://cs50.harvard.edu/x/2024/psets/7/songs/wrapped.png" /></p>
<h2>Problema a resolver</h2>
<p>Escribe consultas SQL para responder preguntas sobre una base de datos de las 100 canciones m√°s reproducidas en <a href="https://es.wikipedia.org/wiki/Spotify">Spotify</a> en 2018.</p>
<h2>Demostraci√≥n</h2>
<script async="" data-autoplay="1" data-cols="100" data-loop="1" data-rows="12" id="asciicast-DsiNSGFrMq2J6t9aDYhIQUQHy" src="https://asciinema.org/a/DsiNSGFrMq2J6t9aDYhIQUQHy.js"></script>

<h2>Primeros pasos</h2>
<p>Para este problema, usar√°s una base de datos proporcionada por el equipo de CS50.</p>
<p>Abre <a href="https://cs50.dev/">VS Code</a>.</p>
<p>Comienza haciendo clic dentro de la ventana del terminal y, luego, ejecuta <code>cd</code> solo. Deber√≠as ver que el "indicador" sea el siguiente:</p>
<pre><code>  $
</code></pre>
<p>Haz clic dentro de esa ventana del terminal y, luego, ejecuta</p>
<pre><code>  wget https://cdn.cs50.net/2023/fall/psets/7/songs.zip
</code></pre>
<p>y presiona Enter para descargar un c√≥digo postal denominado <code>songs.zip</code> en tu espacio de c√≥digos. ¬°Ten cuidado de no pasar por alto el espacio entre <code>wget</code> y la siguiente URL ni ning√∫n otro car√°cter!</p>
<p>Ahora ejecuta</p>
<pre><code>  unzip songs.zip
</code></pre>
<p>para crear una carpeta denominada <code>songs</code>. Ya no necesitas el archivo ZIP, entonces puedes ejecutar</p>
<pre><code>  rm songs.zip
</code></pre>
<p>y responder con "y" y presionar Enter en el indicador para eliminar el archivo ZIP que descargaste.</p>
<p>Ahora escribe</p>
<pre><code>  cd songs
</code></pre>
<p>y presiona Enter para ingresar (o abrir) esa carpeta. Tu indicador ahora deber√≠a verse como el siguiente:</p>
<pre><code>  songs/ $
</code></pre>
<p>Si todo fue bien, debes ejecutar</p>
<pre><code>  ls
</code></pre>
<p>y deber√≠as ver 8 archivos .sql, <code>songs.db</code> y <code>answers.txt</code>.</p>
<p>Si tienes alg√∫n problema, sigue estos mismos pasos nuevamente y ve si puedes determinar d√≥nde te equivocaste.</p>
<h2>Comprensi√≥n</h2>
<p>Te proporcionamos un archivo denominado <code>songs.db</code>, una base de datos SQLite que almacena datos de <a href="https://developer.spotify.com/documentation/web-api/">Spotify</a> sobre canciones y sus artistas. Este conjunto de datos contiene las 100 canciones m√°s transmitidas en Spotify en 2018. En una ventana de terminal, ejecuta <code>sqlite3 songs.db</code> para que puedas comenzar a ejecutar consultas en la base de datos.</p>
<p>En primer lugar, cuando <code>sqlite3</code> te solicite que proporciones una consulta, escribe <code>.schema</code> y presiona enter. Esto emitir√° las sentencias <code>CREATE TABLE</code> que se utilizaron para generar cada una de las tablas en la base de datos. Al examinar esas sentencias, puedes identificar las columnas presentes en cada tabla.</p>
<p>Observa que cada <code>artista</code> tiene un <code>id</code> y un <code>nombre</code>. Observa tambi√©n que cada canci√≥n tiene un <code>nombre</code>, un <code>artist_id</code> (que corresponde al <code>id</code> del artista de la canci√≥n) y valores para la bailabilidad, la energ√≠a, la clave, el volumen, la locuacidad (presencia de palabras habladas en una pista), la valencia, el tempo y la duraci√≥n de la canci√≥n (medida en milisegundos).</p>
<p>El desaf√≠o que tienes por delante es escribir consultas SQL para responder una variedad de preguntas diferentes seleccionando datos de una o m√°s de estas tablas. Despu√©s de hacerlo, reflexionar√°s sobre las formas en que Spotify podr√≠a usar estos mismos datos en su campa√±a anual <a href="https://es.wikipedia.org/wiki/Spotify_Wrapped">Spotify Wrapped</a> para caracterizar los h√°bitos de los oyentes.</p>
<h2>Detalles de implementaci√≥n</h2>
<p>Para cada uno de los siguientes problemas, debes escribir una sola consulta SQL que genere los resultados especificados en cada problema. Tu respuesta debe tomar la forma de una sola consulta SQL, aunque puedes anidar otras consultas dentro de tu consulta. <strong>No debes</strong> asumir nada sobre los <code>id</code> de ninguna canci√≥n o artista en particular: tus consultas deben ser precisas, incluso si el <code>id</code> de alguna canci√≥n o persona en particular fuera diferente. Por √∫ltimo, cada consulta deber√≠a regresar solo los datos necesarios para responder la pregunta: si el problema solo te pide que generes los nombres de las canciones, por ejemplo, tu consulta no deber√≠a generar tambi√©n el tempo de cada canci√≥n.</p>
<ol>
<li>En <code>1.sql</code>, escribe una consulta SQL para enumerar los nombres de todas las canciones en la base de datos.<ul>
<li>Tu consulta deber√≠a generar una tabla con una sola columna para el nombre de cada canci√≥n.</li>
</ul>
</li>
<li>En <code>2.sql</code>, escribe una consulta SQL para enumerar los nombres de todas las canciones en orden de tempo creciente.<ul>
<li>Tu consulta deber√≠a generar una tabla con una sola columna para el nombre de cada canci√≥n.</li>
</ul>
</li>
<li>En <code>3.sql</code>, escribe una consulta SQL para enumerar los nombres de las 5 canciones m√°s largas, en orden descendente de duraci√≥n.<ul>
<li>Tu consulta deber√≠a generar una tabla con una sola columna para el nombre de cada canci√≥n.</li>
</ul>
</li>
<li>En <code>4.sql</code>, escribe una consulta SQL que enumere los nombres de las canciones que tienen bailabilidad, energ√≠a y valencia superiores a 0,75.<ul>
<li>Tu consulta deber√≠a generar una tabla con una sola columna para el nombre de cada canci√≥n.</li>
</ul>
</li>
<li>En <code>5.sql</code>, escribe una consulta SQL que devuelva el promedio de energ√≠a de todas las canciones.<ul>
<li>Tu consulta deber√≠a generar una tabla con una sola columna y una sola fila que contenga el promedio de energ√≠a.</li>
</ul>
</li>
<li>En <code>6.sql</code>, escribe una consulta SQL que enumere los nombres de las canciones que son de Post Malone.<ul>
<li>Tu consulta deber√≠a generar una tabla con una sola columna para el nombre de cada canci√≥n.</li>
<li>No debes hacer ninguna suposici√≥n sobre cu√°l es el <code>artist_id</code> de Post Malone.</li>
</ul>
</li>
<li>En <code>7.sql</code>, escribe una consulta SQL que devuelva el promedio de energ√≠a de las canciones de Drake.<ul>
<li>Tu consulta deber√≠a generar una tabla con una sola columna y una sola fila que contenga el promedio de energ√≠a.</li>
<li>No debes hacer ninguna suposici√≥n sobre cu√°l es el <code>artist_id</code> de Drake.</li>
</ul>
</li>
<li>En <code>8.sql</code>, escribe una consulta SQL que enumere los nombres de las canciones que cuentan con otros artistas.<ul>
<li>Las canciones que cuentan con otros artistas incluir√°n "feat." en el nombre de la canci√≥n.</li>
<li>Tu consulta deber√≠a generar una tabla con una sola columna para el nombre de cada canci√≥n.</li>
</ul>
</li>
</ol>
<h2>Sugerencias</h2>
<p>¬°Consulta <a href="https://www.w3schools.com/sql/sql_ref_keywords.asp">esta referencia de palabras clave de SQL</a> para ver algo de sintaxis de SQL que puede ser √∫til!</p>
<p>¬°Haz clic en los siguientes botones para leer algunos consejos!</p>
<h3>Enumerar los nombres de todas las canciones en la base de datos</h3>
<p>Recuerda que, para seleccionar todos los valores en la columna de una tabla, puedes usar la palabra clave <code>SELECT</code> de SQL. <code>SELECT</code> va seguida de la columna (o columnas) que te gustar√≠a seleccionar, que a su vez va seguida de <code>FROM table</code> donde <code>table</code> es el nombre de la tabla de la que te gustar√≠a seleccionar.</p>
<p>En <code>1.sql</code>, entonces, intenta escribir lo siguiente:</p>
<pre><code>  -- Todas las canciones en la base de datos.
  SELECT name
  FROM songs;
</code></pre>
<h3>Enumerar los nombres de todas las canciones en orden de tempo creciente</h3>
<p>Recuerda que SQL tiene una palabra clave <code>ORDER BY</code>, por la cual puedes ordenar los resultados de tu consulta por el valor en una determinada columna. Por ejemplo, <code>ORDER BY tempo</code> ordenar√° los resultados por la columna <code>tempo</code>.</p>
<p>En <code>2.sql</code>, entonces, intenta escribir lo siguiente:</p>
<pre><code>  -- Todas las canciones en orden de tempo creciente.
  SELECT name
  FROM songs
  ORDER BY tempo;
</code></pre>
<h3>Enumerar los nombres de las 5 canciones m√°s largas, en orden descendente de duraci√≥n</h3>
<p>Recuerda que <code>ORDER BY</code> no siempre debe ordenar en orden ascendente. Puedes especificar que tus resultados se ordenen en orden <em>descendente</em> adjuntando <code>DESC</code>. Por ejemplo, <code>ORDER BY duration_ms DESC</code> enumerar√° los resultados en orden descendente, por duraci√≥n.</p>
<p>Y recuerda tambi√©n que <code>LIMIT n</code> puede especificar que solo quieres las primeras \(n\) filas que coincidan con una consulta espec√≠fica. Por ejemplo, <code>LIMIT 5</code> devolver√° solo los primeros cinco resultados de la consulta.</p>
<p>En <code>3.sql</code>, entonces, intenta escribir lo siguiente:</p>
<pre><code>  -- Los nombres de las 5 canciones m√°s largas, en orden descendente de duraci√≥n.
  SELECT name
  FROM songs
  ORDER BY duration_ms DESC
  LIMIT 5;
</code></pre>
<h3>Enumere los nombres de cualquier canci√≥n que tenga una bailabilidad, energ√≠a y valencia mayores a 0,75</h3>
<p>Recuerde que puede filtrar los resultados en SQL con cl√°usulas <code>WHERE</code>, las cuales son seguidas de alguna condici√≥n que t√≠picamente prueba los valores en las columnas de una fila.</p>
<p>Recuerde tambi√©n que los operadores de SQL funcionan de manera muy similar a los operadores de C. Por ejemplo, <code>&gt;</code> se eval√∫a como "verdadero" cuando el valor en el lado izquierdo es mayor que el valor en el lado derecho. Puede encadenar estas expresiones, usando <code>AND</code> u <code>OR</code>, para formar una condici√≥n m√°s grande.</p>
<p>Entonces, en <code>4.sql</code>, intente escribir lo siguiente:</p>
<pre><code>  -- Los nombres de cualquier canci√≥n que tenga bailabilidad, energ√≠a y valencia mayores a 0,75.
  SELECT name
  FROM songs
  WHERE danceability &gt; 0.75 AND energy &gt; 0.75 AND valence &gt; 0.75;
</code></pre>
<h3>Encuentre la energ√≠a promedio de todas las canciones</h3>
<p>Recuerde que SQL admite palabras clave no solo para seleccionar filas particulares, sino tambi√©n para <em>agregar</em> los datos en esas filas. En particular, la palabra clave <code>AVG</code> (para calcular promedios) puede resultarle √∫til. Para agregar los resultados de una columna, simplemente aplique la funci√≥n de agregaci√≥n a esa columna. Por ejemplo, <code>SELECT AVG(energy)</code> encontrar√° el promedio de los valores en la columna de energ√≠a para la consulta dada.</p>
<p>Entonces, en <code>5.sql</code>, intente escribir lo siguiente:</p>
<pre><code>  -- La energ√≠a promedio de todas las canciones.
  SELECT AVG(energy)
  FROM songs;
</code></pre>
<h3>Enumere los nombres de las canciones que son de Post Malone</h3>
<p>Observe que, si ejecuta <code>.schema songs</code> en el s√≠mbolo del sistema de sqlite, la tabla <code>songs</code> tiene nombres de canciones pero no nombres de artistas. En su lugar, <code>songs</code> tiene una columna <code>artist_id</code>. Entonces, para enumerar los nombres de las canciones de Post Malone, primero deber√° identificar el id de artista de Post Malone.</p>
<pre><code>  -- Identifique el id de artista de Post Malone.
  SELECT id
  FROM artists
  WHERE name = "Post Malone";
</code></pre>
<p>Esta consulta devuelve 54. Ahora, podr√≠a consultar la tabla <code>songs</code> para cualquier canci√≥n con el id de Post Malone.</p>
<pre><code>  SELECT name
  FROM songs
  WHERE artist_id = 54;
</code></pre>
<p>Pero, seg√∫n la especificaci√≥n, debe tener cuidado de no asumir el conocimiento de ninguna identificaci√≥n. Podr√≠a mejorar el dise√±o de esta consulta <em>anidando</em> sus dos consultas.</p>
<p>En <code>6.sql</code>, intente escribir lo siguiente:</p>
<pre><code>  -- Los nombres de las canciones que son de Post Malone.
  SELECT name
  FROM songs
  WHERE artist_id =
  (
      SELECT id
      FROM artists
      WHERE name = "Post Malone"
  );
</code></pre>
<h3>Encuentre la energ√≠a promedio de las canciones que son de Drake</h3>
<p>Observe que, similar a la consulta anterior, deber√° combinar varias tablas para ejecutar esta consulta correctamente. Nuevamente podr√≠a usar subconsultas anidadas, ¬°pero considere otro enfoque tambi√©n!</p>
<p>Recuerde que puede usar la palabra clave <code>JOIN</code> de SQL para combinar varias tablas en una, siempre que especifique qu√© columnas a trav√©s de esas tablas deben coincidir en √∫ltima instancia. Por ejemplo, la siguiente consulta une las tablas <code>songs</code> y <code>artists</code>, indicando que la columna <code>artist_id</code> en la tabla <code>songs</code> y la columna <code>id</code> en la tabla <code>artists</code> deben coincidir:</p>
<pre><code>  SELECT *
  FROM songs
  JOIN artists ON songs.artist_id = artists.id
</code></pre>
<p>Con estas dos tablas combinadas, es solo cuesti√≥n de filtrar su selecci√≥n para encontrar la energ√≠a promedio de las canciones de Drake.</p>
<p>Entonces, en <code>7.sql</code>, intente escribir lo siguiente:</p>
<pre><code>  -- La energ√≠a promedio de las canciones que son de Drake
  SELECT AVG(energy)
  FROM songs
  JOIN artists ON songs.artist_id = artists.id
  WHERE artists.name = "Drake";
</code></pre>
<h3>Enumere los nombres de las canciones que presentan a otros artistas.</h3>
<p>Para esta consulta, tenga en cuenta que las canciones que presentan a otros artistas suelen tener alguna menci√≥n de "feat." en su t√≠tulo. Recuerde que la palabra clave <code>LIKE</code> de SQL se puede utilizar para hacer coincidir cadenas con ciertas frases (¬°como "feat."!). Para hacerlo, puede utilizar <code>%</code>: un car√°cter comod√≠n que coincide con cualquier secuencia de caracteres.</p>
<p>Entonces, en <code>8.sql</code>, intente escribir lo siguiente:</p>
<pre><code>  -- Los nombres de las canciones que presentan a otros artistas.
  SELECT name
  FROM songs
  WHERE name LIKE "%feat.%";
</code></pre>
<h2>Tutorial</h2>
<iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="border" data-video="" src="https://video.cs50.io/wgKPUd_95AA"></iframe>

<details><summary>¬øNo est√°s seguro de c√≥mo resolverlo?</summary><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="border" data-video="" src="https://video.cs50.io/7hydPL9ZswE"></iframe></details>

<h2>Spotify Wrapped</h2>
<p><a href="https://en.wikipedia.org/wiki/Spotify_Wrapped">Spotify Wrapped</a> es una funci√≥n que presenta las 100 canciones m√°s reproducidas de los usuarios de Spotify del a√±o pasado. En 2021, Spotify Wrapped calcul√≥ un <a href="https://newsroom.spotify.com/2021-12-01/learn-more-about-the-audio-aura-in-your-spotify-2021-wrapped-with-aura-reader-mystic-michaela/">‚ÄúAura de audio‚Äù</a> para cada usuario, una "lectura de [sus] dos estados de √°nimo m√°s destacados seg√∫n [sus] mejores canciones y artistas del a√±o". Supongamos que Spotify determina un aura de audio observando la energ√≠a, la valencia y la bailabilidad promedio de las 100 mejores canciones de una persona del a√±o pasado. En <code>answers.txt</code>, reflexione sobre las siguientes preguntas:</p>
<ul>
<li>Si <code>songs.db</code> contiene las 100 mejores canciones de un oyente de 2018, ¬øc√≥mo caracterizar√≠a su aura de audio?</li>
<li>Suponga por qu√© la forma en que ha calculado esta aura podr√≠a <em>no</em> ser muy representativa del oyente. ¬øQu√© mejores formas de calcular esta aura propondr√≠a?</li>
</ul>
<p>Aseg√∫rese de enviar <code>answers.txt</code> junto con cada uno de sus archivos <code>.sql</code>.</p>
<h2>C√≥mo probar</h2>
<h3>Correcci√≥n</h3>
<pre><code>  check50 cs50/problems/2024/x/songs
</code></pre>
<h2>C√≥mo enviar</h2>
<pre><code>  submit50 cs50/problems/2024/x/songs
</code></pre>
<h2>Reconocimientos</h2>
<p>Conjunto de datos de <a href="https://www.kaggle.com/nadintamer/top-spotify-tracks-of-2018">Kaggle</a>.</p>


        </main>
      </div>
    </div>
  </body>

</html>